<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Студенческая библиотека</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<header class="header">
  <div class="logo">Студенческая библиотека</div>
  <nav class="main-nav">
    <a href="{{ url_for('index') }}">Главная</a>
    <!-- Если хотим прятать админку: она защищена логином, но всё же скрывать можно -->
    <a href="{{ url_for('login') }}">Вход</a>
  </nav>
</header>

<!-- Hero-блок -->
<section class="hero">
  <div class="hero-content">
    <h1>Добро пожаловать в нашу библиотеку</h1>
    <p>Здесь вы найдёте материалы по самым разным направлениям — от математики до права.</p>
    <button onclick="window.location='#book-list';" class="hero-btn">Перейти к каталогу</button>
  </div>
</section>

<main class="container">
  <!-- Фильтры -->
  <section class="filters">
    <div class="filter-item">
      <label for="direction-filter">Направление:</label>
      <select id="direction-filter">
        <option value="">Все направления</option>
        <option value="право">Право</option>
        <option value="экономика">Экономика</option>
        <option value="математика">Математика</option>
        <option value="физика">Физика</option>
        <option value="информатика">Информатика</option>
      </select>
    </div>
    <div class="filter-item">
      <label for="type-filter">Тип материала:</label>
      <select id="type-filter">
        <option value="">Все типы</option>
        <option value="учебник">Учебник</option>
        <option value="монография">Монография</option>
        <option value="сборник">Сборник</option>
        <option value="периодические издания">Периодические издания</option>
      </select>
    </div>
    <div class="filter-item">
      <label for="year-filter">Год издания:</label>
      <input type="number" id="year-filter" placeholder="Напр. 2000">
    </div>
    <div class="filter-item">
      <label for="lang-filter">Язык:</label>
      <select id="lang-filter">
        <option value="">Все языки</option>
        <option value="русский">Русский</option>
        <option value="английский">Английский</option>
        <option value="другой">Другой</option>
      </select>
    </div>
    <button id="reset-filters" class="filter-reset-btn">Сбросить</button>
  </section>

  <!-- Список книг -->
  <section class="book-list" id="book-list">
    {% for book in books %}
      <div class="book-item"
           data-direction="{{ book.direction|lower }}"
           data-type="{{ book.material_type|lower }}"
           data-year="{{ book.year }}"
           data-lang="{{ book.language|lower }}"
           data-description="{{ book.description }}">
        
        <!-- Обложка -->
        <img src="{{ url_for('static', filename=book.image_path) if book.image_path else '' }}"
             alt="Обложка"
             class="book-cover">
        
        <div class="book-info">
          <h3>{{ book.title }}</h3>
          <p>Автор: {{ book.author }}</p>
          <p>Год: {{ book.year }}</p>
          <p>Язык: {{ book.language }}</p>
          <button class="details-btn" data-id="{{ book.id }}">Подробнее</button>
        </div>
      </div>
    {% endfor %}
  </section>
</main>

<!-- Модальное окно "Подробнее" -->
<div class="modal-overlay" id="modal-overlay" style="display: none;">
  <div class="modal-window">
    <button class="modal-close" id="modal-close">×</button>
    <div class="modal-content">
      <img id="modal-cover" src="" alt="Обложка" class="modal-cover">
      <h2 id="modal-title"></h2>
      <p id="modal-author"></p>
      <p id="modal-year"></p>
      <p id="modal-lang"></p>
      <!-- Параграф с описанием книги -->
      <p id="modal-description" style="margin-top:10px;"></p>
      <!-- Кнопка "Скачать" -->
      <a id="download-link" class="download-btn" href="#" download>Скачать</a>
    </div>
  </div>
</div>

<footer class="footer">
  <p>© 2024 - Student Library Project</p>
</footer>

<script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
